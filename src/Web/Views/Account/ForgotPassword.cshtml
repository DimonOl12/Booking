@{
    ViewData["Title"] = "Відновлення паролю";
    Layout = null;
}
<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Reservio - Відновлення паролю</title>
    <link rel="stylesheet" href="~/css/auth.css" />
</head>
<body>
    <div class="auth-page-figma">

        <!-- Background Image -->
        <div class="auth-hero-bg">
            <img src="~/images/Subtract.jpg" alt="" />
        </div>

        <!-- Top Navbar -->
        <nav class="auth-topbar">
            <a href="/" class="auth-topbar-logo">
                <img src="~/images/icons/Reservio.svg" alt="Reservio" />
            </a>
            <div class="auth-topbar-right">
                <div class="auth-topbar-currency">UAH</div>
                <div class="auth-topbar-flag">
                    <img src="~/images/icons/icon_flag_ua.svg" alt="UA" />
                </div>
                <a href="#" class="auth-topbar-help">
                    <img src="~/images/icons/Help.svg" alt="Допомога" />
                </a>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="auth-main-figma">
            <div class="auth-card-figma">

                <!-- ============================
                     STEP 1: Enter Email
                     ============================ -->
                <div id="forgot-step-1">

                    <!-- Step Indicator -->
                    <div class="auth-steps">
                        <div class="auth-step-item active">1</div>
                        <div class="auth-step-item">2</div>
                        <div class="auth-step-item">3</div>
                    </div>

                    <!-- Form Content -->
                    <div class="auth-form-content" style="margin-top:16px;">
                        <h1 class="auth-heading-figma">Відновлення паролю</h1>
                        <p class="auth-subheading-figma">Введіть свою електронну адресу для відновлення паролю</p>

                        <div class="auth-fields-group">
                            <div class="auth-field">
                                <div class="auth-field-label-row">
                                    <label class="auth-field-label" for="ForgotEmail">Електронна адреса</label>
                                </div>
                                <div class="auth-input-wrapper">
                                    <input type="email"
                                           class="auth-input-figma"
                                           id="ForgotEmail"
                                           placeholder="Введіть свою електронну адресу"
                                           autocomplete="email" />
                                </div>
                            </div>
                        </div>

                        <!-- Back + Continue Row -->
                        <div class="auth-btn-row">
                            <button type="button" class="auth-back-btn" onclick="history.back()" aria-label="Назад">
                                <img src="~/images/icons/icon_arrow_back.svg" alt="" />
                            </button>
                            <button type="button" class="auth-continue-btn" onclick="goToForgotStep(2)">Продовжити</button>
                        </div>
                    </div>

                </div>

                <!-- ============================
                     STEP 2: New Password
                     ============================ -->
                <div id="forgot-step-2" style="display:none;">

                    <!-- Step Indicator -->
                    <div class="auth-steps">
                        <div class="auth-step-item">1</div>
                        <div class="auth-step-item active">2</div>
                        <div class="auth-step-item">3</div>
                    </div>

                    <!-- Form Content -->
                    <div class="auth-form-content" style="margin-top:16px;">
                        <h1 class="auth-heading-figma">Відновлення паролю</h1>
                        <p class="auth-subheading-figma">Ваш новий пароль має відрізнятися від попереднього</p>

                        <div class="auth-fields-group">
                            <!-- New Password -->
                            <div class="auth-field">
                                <div class="auth-field-label-row">
                                    <label class="auth-field-label" for="NewPassword">Пароль</label>
                                </div>
                                <div class="auth-input-wrapper">
                                    <input type="password"
                                           class="auth-input-figma"
                                           id="NewPassword"
                                           placeholder="Введіть пароль"
                                           autocomplete="new-password" />
                                    <button type="button" class="auth-eye-toggle" data-target="NewPassword" aria-label="Показати/Сховати пароль">
                                        <img src="~/images/icons/icon_eye_closed.svg" alt="" class="eye-icon" />
                                    </button>
                                </div>
                            </div>

                            <!-- Confirm New Password -->
                            <div class="auth-field">
                                <div class="auth-field-label-row">
                                    <label class="auth-field-label" for="ConfirmNewPassword">Пароль</label>
                                </div>
                                <div class="auth-input-wrapper">
                                    <input type="password"
                                           class="auth-input-figma"
                                           id="ConfirmNewPassword"
                                           placeholder="Підтвердьте свій пароль"
                                           autocomplete="new-password" />
                                    <button type="button" class="auth-eye-toggle" data-target="ConfirmNewPassword" aria-label="Показати/Сховати пароль">
                                        <img src="~/images/icons/icon_eye_closed.svg" alt="" class="eye-icon" />
                                    </button>
                                </div>
                            </div>
                        </div>

                        <!-- Back + Continue Row -->
                        <div class="auth-btn-row">
                            <button type="button" class="auth-back-btn" onclick="goToForgotStep(1)" aria-label="Назад">
                                <img src="~/images/icons/icon_arrow_back.svg" alt="" />
                            </button>
                            <button type="button" class="auth-continue-btn" onclick="goToForgotStep(3)">Продовжити</button>
                        </div>
                    </div>

                </div>

                <!-- ============================
                     STEP 3: Success
                     ============================ -->
                <div id="forgot-step-3" style="display:none;">

                    <!-- Step Indicator -->
                    <div class="auth-steps">
                        <div class="auth-step-item">1</div>
                        <div class="auth-step-item">2</div>
                        <div class="auth-step-item active">3</div>
                    </div>

                    <!-- Form Content -->
                    <div class="auth-form-content" style="margin-top:16px;">
                        <h1 class="auth-heading-figma">Відновлення паролю</h1>
                        <p class="auth-subheading-figma" style="max-width:100%;">Ваш пароль успішно відновлений, натисніть нижче, щоб продовжити</p>

                        <a href="@Url.Action("Login", "Account")" class="auth-submit-btn">Повернутися до входу</a>
                    </div>

                </div>

            </div>
        </main>

    </div>

    <script>
        // Toggle password visibility
        (function () {
            var toggleBtns = document.querySelectorAll('.auth-eye-toggle');
            toggleBtns.forEach(function (btn) {
                btn.addEventListener('click', function () {
                    var targetId = btn.getAttribute('data-target');
                    var input = document.getElementById(targetId);
                    var icon = btn.querySelector('.eye-icon');
                    if (input && icon) {
                        var isPassword = input.type === 'password';
                        input.type = isPassword ? 'text' : 'password';
                        icon.src = isPassword
                            ? '/images/icons/icon_eye_open.svg'
                            : '/images/icons/icon_eye_closed.svg';
                    }
                });
            });
        })();

        // Step navigation for Forgot Password
        function goToForgotStep(step) {
            document.getElementById('forgot-step-1').style.display = 'none';
            document.getElementById('forgot-step-2').style.display = 'none';
            document.getElementById('forgot-step-3').style.display = 'none';
            document.getElementById('forgot-step-' + step).style.display = 'block';
        }
    </script>
</body>
</html>
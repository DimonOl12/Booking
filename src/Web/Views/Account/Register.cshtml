@model Web.Models.RegisterViewModel
@{
    ViewData["Title"] = "Реєстрація";
    Layout = null;
}
<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Reservio - Реєстрація</title>
    <link rel="stylesheet" href="~/css/auth.css" />
</head>
<body>
    <div class="auth-page-figma">

        <!-- Background Image -->
        <div class="auth-hero-bg">
            <img src="~/images/Subtract.jpg" alt="" />
        </div>

        <!-- Top Navbar -->
        <nav class="auth-topbar">
            <a href="/" class="auth-topbar-logo">
                <img src="~/images/icons/Reservio.svg" alt="Reservio" />
            </a>
            <div class="auth-topbar-right">
                <div class="auth-topbar-currency">UAH</div>
                <div class="auth-topbar-flag">
                    <img src="~/images/icons/icon_flag_ua.svg" alt="UA" />
                </div>
                <a href="#" class="auth-topbar-help">
                    <img src="~/images/icons/Help.svg" alt="Допомога" />
                </a>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="auth-main-figma">
            <div class="auth-card-figma">

                <!-- ============================
                     STEP 1: Registration Form
                     ============================ -->
                <div id="register-step-1">

                    <!-- Tabs -->
                    <div class="auth-tabs-figma" style="max-width:680px;margin:0 auto;">
                        <a href="@Url.Action("Register", "Account")" class="auth-tab-figma active">Зареєструватися</a>
                        <a href="@Url.Action("Login", "Account")" class="auth-tab-figma">Увійти</a>
                    </div>

                    <!-- Form Content -->
                    <div class="auth-form-content" style="margin-top:16px;">

                        <!-- Heading -->
                        <h1 class="auth-heading-figma">Створіть акаунт</h1>

                        <!-- Fields -->
                        <div class="auth-fields-group">
                            <!-- Email -->
                            <div class="auth-field">
                                <div class="auth-field-label-row">
                                    <label class="auth-field-label" for="Email">Електронна адреса</label>
                                </div>
                                <div class="auth-input-wrapper">
                                    <input type="email"
                                           class="auth-input-figma"
                                           id="Email"
                                           name="Email"
                                           placeholder="Введіть свою електронну адресу"
                                           autocomplete="email" />
                                </div>
                            </div>

                            <!-- Password -->
                            <div class="auth-field">
                                <div class="auth-field-label-row">
                                    <label class="auth-field-label" for="Password">Пароль</label>
                                </div>
                                <div class="auth-input-wrapper">
                                    <input type="password"
                                           class="auth-input-figma"
                                           id="Password"
                                           name="Password"
                                           placeholder="Введіть пароль"
                                           autocomplete="new-password" />
                                    <button type="button" class="auth-eye-toggle" data-target="Password" aria-label="Показати/Сховати пароль">
                                        <img src="~/images/icons/icon_eye_closed.svg" alt="" class="eye-icon" />
                                    </button>
                                </div>
                            </div>

                            <!-- Confirm Password -->
                            <div class="auth-field">
                                <div class="auth-field-label-row">
                                    <label class="auth-field-label" for="ConfirmPassword">Пароль</label>
                                </div>
                                <div class="auth-input-wrapper">
                                    <input type="password"
                                           class="auth-input-figma"
                                           id="ConfirmPassword"
                                           name="ConfirmPassword"
                                           placeholder="Підтвердьте свій пароль"
                                           autocomplete="new-password" />
                                    <button type="button" class="auth-eye-toggle" data-target="ConfirmPassword" aria-label="Показати/Сховати пароль">
                                        <img src="~/images/icons/icon_eye_closed.svg" alt="" class="eye-icon" />
                                    </button>
                                </div>
                            </div>
                        </div>

                        <!-- Submit Button (goes to step 2) -->
                        <button type="button" class="auth-submit-btn" onclick="goToRegisterStep(2)">Продовжити</button>
                    </div>

                    <!-- Social Register Section -->
                    <div class="auth-social-section" style="margin-top:16px;">
                        <div class="auth-social-block">
                            <span class="auth-social-label">Зареєструватися з</span>
                            <div class="auth-social-buttons">
                                <button type="button" class="auth-social-btn" aria-label="Google">
                                    <img src="~/images/icons/google.svg" alt="Google" />
                                </button>
                                <button type="button" class="auth-social-btn" aria-label="Apple">
                                    <img src="~/images/icons/apple.svg" alt="Apple" />
                                </button>
                                <button type="button" class="auth-social-btn" aria-label="Facebook">
                                    <img src="~/images/icons/Facebook.svg" alt="Facebook" />
                                </button>
                            </div>
                        </div>

                        <!-- Footer -->
                        <div class="auth-footer-figma">
                            <p class="auth-footer-text">
                                Входячи в акаунт або створюючи новий, ви погоджуєтеся з нашими
                                <a href="#">Правилами й умовами</a> та <a href="#">Політикою конфіденційності</a>
                            </p>
                            <p class="auth-footer-copy">Усі права захищено.</p>
                            <p class="auth-footer-copy">Copyright (2006 - 2026) - Reservio&#8482;</p>
                        </div>
                    </div>

                </div>

                <!-- ============================
                     STEP 2: Email Confirmation (OTP)
                     ============================ -->
                <div id="register-step-2" style="display:none;">

                    <!-- Tabs -->
                    <div class="auth-tabs-figma" style="max-width:680px;margin:0 auto;">
                        <span class="auth-tab-figma active">Зареєструватися</span>
                        <a href="@Url.Action("Login", "Account")" class="auth-tab-figma">Увійти</a>
                    </div>

                    <!-- Form Content -->
                    <div class="auth-form-content" style="margin-top:16px;max-width:505px;align-items:flex-start;">

                        <!-- Heading -->
                        <h1 class="auth-heading-figma" style="text-align:left;">Підтвердьте свою електронну адресу, щоб увійти</h1>
                        <p class="auth-subheading-figma" style="text-align:left;max-width:100%;">
                            Ми надіслали код підтвердження на *email*. Введіть цей код, щоб продовжити.
                        </p>

                        <!-- OTP Inputs -->
                        <div class="auth-otp-group">
                            <input type="text" class="auth-otp-input" maxlength="1" inputmode="numeric" pattern="[0-9]" aria-label="Код 1" />
                            <input type="text" class="auth-otp-input" maxlength="1" inputmode="numeric" pattern="[0-9]" aria-label="Код 2" />
                            <input type="text" class="auth-otp-input" maxlength="1" inputmode="numeric" pattern="[0-9]" aria-label="Код 3" />
                            <input type="text" class="auth-otp-input" maxlength="1" inputmode="numeric" pattern="[0-9]" aria-label="Код 4" />
                            <input type="text" class="auth-otp-input" maxlength="1" inputmode="numeric" pattern="[0-9]" aria-label="Код 5" />
                            <input type="text" class="auth-otp-input" maxlength="1" inputmode="numeric" pattern="[0-9]" aria-label="Код 6" />
                        </div>

                        <!-- Continue (goes to home) -->
                        <a href="/" class="auth-submit-btn" style="align-self:center;">Продовжити</a>

                        <!-- Resend info -->
                        <p class="auth-resend-text" style="align-self:center;">
                            Не отримали електронного листа? Перевірте папку зі спамом або надішліть запит на інший код через 60 секунд
                        </p>
                    </div>

                    <!-- Footer -->
                    <div class="auth-social-section" style="margin-top:16px;">
                        <div class="auth-footer-figma">
                            <p class="auth-footer-text">
                                Входячи в акаунт або створюючи новий, ви погоджуєтеся з нашими
                                <a href="#">Правилами й умовами</a> та <a href="#">Політикою конфіденційності</a>
                            </p>
                            <p class="auth-footer-copy">Усі права захищено.</p>
                            <p class="auth-footer-copy">Copyright (2006 - 2026) - Reservio&#8482;</p>
                        </div>
                    </div>

                </div>

            </div>
        </main>

    </div>

    <script>
        // Toggle password visibility (multiple fields)
        (function () {
            var toggleBtns = document.querySelectorAll('.auth-eye-toggle');
            toggleBtns.forEach(function (btn) {
                btn.addEventListener('click', function () {
                    var targetId = btn.getAttribute('data-target');
                    var input = document.getElementById(targetId);
                    var icon = btn.querySelector('.eye-icon');
                    if (input && icon) {
                        var isPassword = input.type === 'password';
                        input.type = isPassword ? 'text' : 'password';
                        icon.src = isPassword
                            ? '/images/icons/icon_eye_open.svg'
                            : '/images/icons/icon_eye_closed.svg';
                    }
                });
            });
        })();

        // Step navigation
        function goToRegisterStep(step) {
            document.getElementById('register-step-1').style.display = 'none';
            document.getElementById('register-step-2').style.display = 'none';
            document.getElementById('register-step-' + step).style.display = 'block';
        }

        // OTP auto-focus: after typing 1 digit, jump to next input
        (function () {
            var otpInputs = document.querySelectorAll('.auth-otp-input');
            otpInputs.forEach(function (input, idx) {
                input.addEventListener('input', function () {
                    if (input.value.length === 1 && idx < otpInputs.length - 1) {
                        otpInputs[idx + 1].focus();
                    }
                });
                input.addEventListener('keydown', function (e) {
                    if (e.key === 'Backspace' && input.value === '' && idx > 0) {
                        otpInputs[idx - 1].focus();
                    }
                });
            });
        })();
    </script>
</body>
</html>